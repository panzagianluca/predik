"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/fancy-canvas";
exports.ids = ["vendor-chunks/fancy-canvas"];
exports.modules = {

/***/ "(ssr)/./node_modules/fancy-canvas/canvas-element-bitmap-size.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/fancy-canvas/canvas-element-bitmap-size.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bindTo: () => (/* binding */ bindTo)\n/* harmony export */ });\n/* harmony import */ var _size_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./size.mjs */ \"(ssr)/./node_modules/fancy-canvas/size.mjs\");\n/* harmony import */ var _device_pixel_ratio_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./device-pixel-ratio.mjs */ \"(ssr)/./node_modules/fancy-canvas/device-pixel-ratio.mjs\");\n\n\nvar DevicePixelContentBoxBinding = /** @class */ (function () {\n    function DevicePixelContentBoxBinding(canvasElement, transformBitmapSize, options) {\n        var _a;\n        this._canvasElement = null;\n        this._bitmapSizeChangedListeners = [];\n        this._suggestedBitmapSize = null;\n        this._suggestedBitmapSizeChangedListeners = [];\n        // devicePixelRatio approach\n        this._devicePixelRatioObservable = null;\n        // ResizeObserver approach\n        this._canvasElementResizeObserver = null;\n        this._canvasElement = canvasElement;\n        this._canvasElementClientSize = (0,_size_mjs__WEBPACK_IMPORTED_MODULE_0__.size)({\n            width: this._canvasElement.clientWidth,\n            height: this._canvasElement.clientHeight,\n        });\n        this._transformBitmapSize = transformBitmapSize !== null && transformBitmapSize !== void 0 ? transformBitmapSize : (function (size) { return size; });\n        this._allowResizeObserver = (_a = options === null || options === void 0 ? void 0 : options.allowResizeObserver) !== null && _a !== void 0 ? _a : true;\n        this._chooseAndInitObserver();\n        // we MAY leave the constuctor without any bitmap size observation mechanics initialized\n    }\n    DevicePixelContentBoxBinding.prototype.dispose = function () {\n        var _a, _b;\n        if (this._canvasElement === null) {\n            throw new Error('Object is disposed');\n        }\n        (_a = this._canvasElementResizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        this._canvasElementResizeObserver = null;\n        (_b = this._devicePixelRatioObservable) === null || _b === void 0 ? void 0 : _b.dispose();\n        this._devicePixelRatioObservable = null;\n        this._suggestedBitmapSizeChangedListeners.length = 0;\n        this._bitmapSizeChangedListeners.length = 0;\n        this._canvasElement = null;\n    };\n    Object.defineProperty(DevicePixelContentBoxBinding.prototype, \"canvasElement\", {\n        get: function () {\n            if (this._canvasElement === null) {\n                throw new Error('Object is disposed');\n            }\n            return this._canvasElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DevicePixelContentBoxBinding.prototype, \"canvasElementClientSize\", {\n        get: function () {\n            return this._canvasElementClientSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DevicePixelContentBoxBinding.prototype, \"bitmapSize\", {\n        get: function () {\n            return (0,_size_mjs__WEBPACK_IMPORTED_MODULE_0__.size)({\n                width: this.canvasElement.width,\n                height: this.canvasElement.height,\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Use this function to change canvas element client size until binding is disposed\n     * @param clientSize New client size for bound HTMLCanvasElement\n     */\n    DevicePixelContentBoxBinding.prototype.resizeCanvasElement = function (clientSize) {\n        this._canvasElementClientSize = (0,_size_mjs__WEBPACK_IMPORTED_MODULE_0__.size)(clientSize);\n        this.canvasElement.style.width = \"\".concat(this._canvasElementClientSize.width, \"px\");\n        this.canvasElement.style.height = \"\".concat(this._canvasElementClientSize.height, \"px\");\n        this._invalidateBitmapSize();\n    };\n    DevicePixelContentBoxBinding.prototype.subscribeBitmapSizeChanged = function (listener) {\n        this._bitmapSizeChangedListeners.push(listener);\n    };\n    DevicePixelContentBoxBinding.prototype.unsubscribeBitmapSizeChanged = function (listener) {\n        this._bitmapSizeChangedListeners = this._bitmapSizeChangedListeners.filter(function (l) { return l !== listener; });\n    };\n    Object.defineProperty(DevicePixelContentBoxBinding.prototype, \"suggestedBitmapSize\", {\n        get: function () {\n            return this._suggestedBitmapSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DevicePixelContentBoxBinding.prototype.subscribeSuggestedBitmapSizeChanged = function (listener) {\n        this._suggestedBitmapSizeChangedListeners.push(listener);\n    };\n    DevicePixelContentBoxBinding.prototype.unsubscribeSuggestedBitmapSizeChanged = function (listener) {\n        this._suggestedBitmapSizeChangedListeners = this._suggestedBitmapSizeChangedListeners.filter(function (l) { return l !== listener; });\n    };\n    DevicePixelContentBoxBinding.prototype.applySuggestedBitmapSize = function () {\n        if (this._suggestedBitmapSize === null) {\n            // nothing to apply\n            return;\n        }\n        var oldSuggestedSize = this._suggestedBitmapSize;\n        this._suggestedBitmapSize = null;\n        this._resizeBitmap(oldSuggestedSize);\n        this._emitSuggestedBitmapSizeChanged(oldSuggestedSize, this._suggestedBitmapSize);\n    };\n    DevicePixelContentBoxBinding.prototype._resizeBitmap = function (newSize) {\n        var oldSize = this.bitmapSize;\n        if ((0,_size_mjs__WEBPACK_IMPORTED_MODULE_0__.equalSizes)(oldSize, newSize)) {\n            return;\n        }\n        this.canvasElement.width = newSize.width;\n        this.canvasElement.height = newSize.height;\n        this._emitBitmapSizeChanged(oldSize, newSize);\n    };\n    DevicePixelContentBoxBinding.prototype._emitBitmapSizeChanged = function (oldSize, newSize) {\n        var _this = this;\n        this._bitmapSizeChangedListeners.forEach(function (listener) { return listener.call(_this, oldSize, newSize); });\n    };\n    DevicePixelContentBoxBinding.prototype._suggestNewBitmapSize = function (newSize) {\n        var oldSuggestedSize = this._suggestedBitmapSize;\n        var finalNewSize = (0,_size_mjs__WEBPACK_IMPORTED_MODULE_0__.size)(this._transformBitmapSize(newSize, this._canvasElementClientSize));\n        var newSuggestedSize = (0,_size_mjs__WEBPACK_IMPORTED_MODULE_0__.equalSizes)(this.bitmapSize, finalNewSize) ? null : finalNewSize;\n        if (oldSuggestedSize === null && newSuggestedSize === null) {\n            return;\n        }\n        if (oldSuggestedSize !== null && newSuggestedSize !== null\n            && (0,_size_mjs__WEBPACK_IMPORTED_MODULE_0__.equalSizes)(oldSuggestedSize, newSuggestedSize)) {\n            return;\n        }\n        this._suggestedBitmapSize = newSuggestedSize;\n        this._emitSuggestedBitmapSizeChanged(oldSuggestedSize, newSuggestedSize);\n    };\n    DevicePixelContentBoxBinding.prototype._emitSuggestedBitmapSizeChanged = function (oldSize, newSize) {\n        var _this = this;\n        this._suggestedBitmapSizeChangedListeners.forEach(function (listener) { return listener.call(_this, oldSize, newSize); });\n    };\n    DevicePixelContentBoxBinding.prototype._chooseAndInitObserver = function () {\n        var _this = this;\n        if (!this._allowResizeObserver) {\n            this._initDevicePixelRatioObservable();\n            return;\n        }\n        isDevicePixelContentBoxSupported()\n            .then(function (isSupported) {\n            return isSupported ?\n                _this._initResizeObserver() :\n                _this._initDevicePixelRatioObservable();\n        });\n    };\n    // devicePixelRatio approach\n    DevicePixelContentBoxBinding.prototype._initDevicePixelRatioObservable = function () {\n        var _this = this;\n        if (this._canvasElement === null) {\n            // it looks like we are already dead\n            return;\n        }\n        var win = canvasElementWindow(this._canvasElement);\n        if (win === null) {\n            throw new Error('No window is associated with the canvas');\n        }\n        this._devicePixelRatioObservable = (0,_device_pixel_ratio_mjs__WEBPACK_IMPORTED_MODULE_1__.createObservable)(win);\n        this._devicePixelRatioObservable.subscribe(function () { return _this._invalidateBitmapSize(); });\n        this._invalidateBitmapSize();\n    };\n    DevicePixelContentBoxBinding.prototype._invalidateBitmapSize = function () {\n        var _a, _b;\n        if (this._canvasElement === null) {\n            // it looks like we are already dead\n            return;\n        }\n        var win = canvasElementWindow(this._canvasElement);\n        if (win === null) {\n            return;\n        }\n        var ratio = (_b = (_a = this._devicePixelRatioObservable) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : win.devicePixelRatio;\n        var canvasRects = this._canvasElement.getClientRects();\n        var newSize = \n        // eslint-disable-next-line no-negated-condition\n        canvasRects[0] !== undefined ?\n            predictedBitmapSize(canvasRects[0], ratio) :\n            (0,_size_mjs__WEBPACK_IMPORTED_MODULE_0__.size)({\n                width: this._canvasElementClientSize.width * ratio,\n                height: this._canvasElementClientSize.height * ratio,\n            });\n        this._suggestNewBitmapSize(newSize);\n    };\n    // ResizeObserver approach\n    DevicePixelContentBoxBinding.prototype._initResizeObserver = function () {\n        var _this = this;\n        if (this._canvasElement === null) {\n            // it looks like we are already dead\n            return;\n        }\n        this._canvasElementResizeObserver = new ResizeObserver(function (entries) {\n            var entry = entries.find(function (entry) { return entry.target === _this._canvasElement; });\n            if (!entry || !entry.devicePixelContentBoxSize || !entry.devicePixelContentBoxSize[0]) {\n                return;\n            }\n            var entrySize = entry.devicePixelContentBoxSize[0];\n            var newSize = (0,_size_mjs__WEBPACK_IMPORTED_MODULE_0__.size)({\n                width: entrySize.inlineSize,\n                height: entrySize.blockSize,\n            });\n            _this._suggestNewBitmapSize(newSize);\n        });\n        this._canvasElementResizeObserver.observe(this._canvasElement, { box: 'device-pixel-content-box' });\n    };\n    return DevicePixelContentBoxBinding;\n}());\nfunction bindTo(canvasElement, target) {\n    if (target.type === 'device-pixel-content-box') {\n        return new DevicePixelContentBoxBinding(canvasElement, target.transform, target.options);\n    }\n    throw new Error('Unsupported binding target');\n}\nfunction canvasElementWindow(canvasElement) {\n    // According to DOM Level 2 Core specification, ownerDocument should never be null for HTMLCanvasElement\n    // see https://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#node-ownerDoc\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return canvasElement.ownerDocument.defaultView;\n}\nfunction isDevicePixelContentBoxSupported() {\n    return new Promise(function (resolve) {\n        var ro = new ResizeObserver(function (entries) {\n            resolve(entries.every(function (entry) { return 'devicePixelContentBoxSize' in entry; }));\n            ro.disconnect();\n        });\n        ro.observe(document.body, { box: 'device-pixel-content-box' });\n    })\n        .catch(function () { return false; });\n}\nfunction predictedBitmapSize(canvasRect, ratio) {\n    return (0,_size_mjs__WEBPACK_IMPORTED_MODULE_0__.size)({\n        width: Math.round(canvasRect.left * ratio + canvasRect.width * ratio) -\n            Math.round(canvasRect.left * ratio),\n        height: Math.round(canvasRect.top * ratio + canvasRect.height * ratio) -\n            Math.round(canvasRect.top * ratio),\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZmFuY3ktY2FudmFzL2NhbnZhcy1lbGVtZW50LWJpdG1hcC1zaXplLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFDa0Q7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLCtDQUFJO0FBQzVDO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsOElBQThJLGNBQWM7QUFDNUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtQkFBbUIsK0NBQUk7QUFDdkI7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLCtDQUFJO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrR0FBa0csd0JBQXdCO0FBQzFIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvSEFBb0gsd0JBQXdCO0FBQzVJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxREFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLGdEQUFnRDtBQUN2SDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsK0NBQUk7QUFDL0IsK0JBQStCLHFEQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixnREFBZ0Q7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx5RUFBZ0M7QUFDM0UsaUVBQWlFLHVDQUF1QztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtDQUFJO0FBQ2hCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsK0NBQStDO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtDQUFJO0FBQzlCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1QseUVBQXlFLGlDQUFpQztBQUMxRztBQUNBO0FBQ0EsQ0FBQztBQUNNO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw4Q0FBOEM7QUFDbkc7QUFDQSxTQUFTO0FBQ1Qsb0NBQW9DLGlDQUFpQztBQUNyRSxLQUFLO0FBQ0wsNkJBQTZCLGVBQWU7QUFDNUM7QUFDQTtBQUNBLFdBQVcsK0NBQUk7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCIsInNvdXJjZXMiOlsiL1VzZXJzL3BhbnphL0RvY3VtZW50cy9QZXJzb25hbFByb2plY3RzL3ByZWRpay9ub2RlX21vZHVsZXMvZmFuY3ktY2FudmFzL2NhbnZhcy1lbGVtZW50LWJpdG1hcC1zaXplLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlcXVhbFNpemVzLCBzaXplIH0gZnJvbSBcIi4vc2l6ZS5tanNcIjtcbmltcG9ydCB7IGNyZWF0ZU9ic2VydmFibGUgYXMgY3JlYXRlRGV2aWNlUGl4ZWxSYXRpb09ic2VydmFibGUgfSBmcm9tIFwiLi9kZXZpY2UtcGl4ZWwtcmF0aW8ubWpzXCI7XG52YXIgRGV2aWNlUGl4ZWxDb250ZW50Qm94QmluZGluZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZXZpY2VQaXhlbENvbnRlbnRCb3hCaW5kaW5nKGNhbnZhc0VsZW1lbnQsIHRyYW5zZm9ybUJpdG1hcFNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLl9jYW52YXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYml0bWFwU2l6ZUNoYW5nZWRMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fc3VnZ2VzdGVkQml0bWFwU2l6ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1Z2dlc3RlZEJpdG1hcFNpemVDaGFuZ2VkTGlzdGVuZXJzID0gW107XG4gICAgICAgIC8vIGRldmljZVBpeGVsUmF0aW8gYXBwcm9hY2hcbiAgICAgICAgdGhpcy5fZGV2aWNlUGl4ZWxSYXRpb09ic2VydmFibGUgPSBudWxsO1xuICAgICAgICAvLyBSZXNpemVPYnNlcnZlciBhcHByb2FjaFxuICAgICAgICB0aGlzLl9jYW52YXNFbGVtZW50UmVzaXplT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9jYW52YXNFbGVtZW50ID0gY2FudmFzRWxlbWVudDtcbiAgICAgICAgdGhpcy5fY2FudmFzRWxlbWVudENsaWVudFNpemUgPSBzaXplKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLl9jYW52YXNFbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLl9jYW52YXNFbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUJpdG1hcFNpemUgPSB0cmFuc2Zvcm1CaXRtYXBTaXplICE9PSBudWxsICYmIHRyYW5zZm9ybUJpdG1hcFNpemUgIT09IHZvaWQgMCA/IHRyYW5zZm9ybUJpdG1hcFNpemUgOiAoZnVuY3Rpb24gKHNpemUpIHsgcmV0dXJuIHNpemU7IH0pO1xuICAgICAgICB0aGlzLl9hbGxvd1Jlc2l6ZU9ic2VydmVyID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmFsbG93UmVzaXplT2JzZXJ2ZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWU7XG4gICAgICAgIHRoaXMuX2Nob29zZUFuZEluaXRPYnNlcnZlcigpO1xuICAgICAgICAvLyB3ZSBNQVkgbGVhdmUgdGhlIGNvbnN0dWN0b3Igd2l0aG91dCBhbnkgYml0bWFwIHNpemUgb2JzZXJ2YXRpb24gbWVjaGFuaWNzIGluaXRpYWxpemVkXG4gICAgfVxuICAgIERldmljZVBpeGVsQ29udGVudEJveEJpbmRpbmcucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0aGlzLl9jYW52YXNFbGVtZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09iamVjdCBpcyBkaXNwb3NlZCcpO1xuICAgICAgICB9XG4gICAgICAgIChfYSA9IHRoaXMuX2NhbnZhc0VsZW1lbnRSZXNpemVPYnNlcnZlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5fY2FudmFzRWxlbWVudFJlc2l6ZU9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgKF9iID0gdGhpcy5fZGV2aWNlUGl4ZWxSYXRpb09ic2VydmFibGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2RldmljZVBpeGVsUmF0aW9PYnNlcnZhYmxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3VnZ2VzdGVkQml0bWFwU2l6ZUNoYW5nZWRMaXN0ZW5lcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fYml0bWFwU2l6ZUNoYW5nZWRMaXN0ZW5lcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fY2FudmFzRWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV2aWNlUGl4ZWxDb250ZW50Qm94QmluZGluZy5wcm90b3R5cGUsIFwiY2FudmFzRWxlbWVudFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbnZhc0VsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09iamVjdCBpcyBkaXNwb3NlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhbnZhc0VsZW1lbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV2aWNlUGl4ZWxDb250ZW50Qm94QmluZGluZy5wcm90b3R5cGUsIFwiY2FudmFzRWxlbWVudENsaWVudFNpemVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYW52YXNFbGVtZW50Q2xpZW50U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZXZpY2VQaXhlbENvbnRlbnRCb3hCaW5kaW5nLnByb3RvdHlwZSwgXCJiaXRtYXBTaXplXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2l6ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuY2FudmFzRWxlbWVudC53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuY2FudmFzRWxlbWVudC5oZWlnaHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGNoYW5nZSBjYW52YXMgZWxlbWVudCBjbGllbnQgc2l6ZSB1bnRpbCBiaW5kaW5nIGlzIGRpc3Bvc2VkXG4gICAgICogQHBhcmFtIGNsaWVudFNpemUgTmV3IGNsaWVudCBzaXplIGZvciBib3VuZCBIVE1MQ2FudmFzRWxlbWVudFxuICAgICAqL1xuICAgIERldmljZVBpeGVsQ29udGVudEJveEJpbmRpbmcucHJvdG90eXBlLnJlc2l6ZUNhbnZhc0VsZW1lbnQgPSBmdW5jdGlvbiAoY2xpZW50U2l6ZSkge1xuICAgICAgICB0aGlzLl9jYW52YXNFbGVtZW50Q2xpZW50U2l6ZSA9IHNpemUoY2xpZW50U2l6ZSk7XG4gICAgICAgIHRoaXMuY2FudmFzRWxlbWVudC5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KHRoaXMuX2NhbnZhc0VsZW1lbnRDbGllbnRTaXplLndpZHRoLCBcInB4XCIpO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQodGhpcy5fY2FudmFzRWxlbWVudENsaWVudFNpemUuaGVpZ2h0LCBcInB4XCIpO1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlQml0bWFwU2l6ZSgpO1xuICAgIH07XG4gICAgRGV2aWNlUGl4ZWxDb250ZW50Qm94QmluZGluZy5wcm90b3R5cGUuc3Vic2NyaWJlQml0bWFwU2l6ZUNoYW5nZWQgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fYml0bWFwU2l6ZUNoYW5nZWRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfTtcbiAgICBEZXZpY2VQaXhlbENvbnRlbnRCb3hCaW5kaW5nLnByb3RvdHlwZS51bnN1YnNjcmliZUJpdG1hcFNpemVDaGFuZ2VkID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2JpdG1hcFNpemVDaGFuZ2VkTGlzdGVuZXJzID0gdGhpcy5fYml0bWFwU2l6ZUNoYW5nZWRMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChsKSB7IHJldHVybiBsICE9PSBsaXN0ZW5lcjsgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV2aWNlUGl4ZWxDb250ZW50Qm94QmluZGluZy5wcm90b3R5cGUsIFwic3VnZ2VzdGVkQml0bWFwU2l6ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1Z2dlc3RlZEJpdG1hcFNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBEZXZpY2VQaXhlbENvbnRlbnRCb3hCaW5kaW5nLnByb3RvdHlwZS5zdWJzY3JpYmVTdWdnZXN0ZWRCaXRtYXBTaXplQ2hhbmdlZCA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9zdWdnZXN0ZWRCaXRtYXBTaXplQ2hhbmdlZExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIERldmljZVBpeGVsQ29udGVudEJveEJpbmRpbmcucHJvdG90eXBlLnVuc3Vic2NyaWJlU3VnZ2VzdGVkQml0bWFwU2l6ZUNoYW5nZWQgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5fc3VnZ2VzdGVkQml0bWFwU2l6ZUNoYW5nZWRMaXN0ZW5lcnMgPSB0aGlzLl9zdWdnZXN0ZWRCaXRtYXBTaXplQ2hhbmdlZExpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGwpIHsgcmV0dXJuIGwgIT09IGxpc3RlbmVyOyB9KTtcbiAgICB9O1xuICAgIERldmljZVBpeGVsQ29udGVudEJveEJpbmRpbmcucHJvdG90eXBlLmFwcGx5U3VnZ2VzdGVkQml0bWFwU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N1Z2dlc3RlZEJpdG1hcFNpemUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG5vdGhpbmcgdG8gYXBwbHlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2xkU3VnZ2VzdGVkU2l6ZSA9IHRoaXMuX3N1Z2dlc3RlZEJpdG1hcFNpemU7XG4gICAgICAgIHRoaXMuX3N1Z2dlc3RlZEJpdG1hcFNpemUgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZXNpemVCaXRtYXAob2xkU3VnZ2VzdGVkU2l6ZSk7XG4gICAgICAgIHRoaXMuX2VtaXRTdWdnZXN0ZWRCaXRtYXBTaXplQ2hhbmdlZChvbGRTdWdnZXN0ZWRTaXplLCB0aGlzLl9zdWdnZXN0ZWRCaXRtYXBTaXplKTtcbiAgICB9O1xuICAgIERldmljZVBpeGVsQ29udGVudEJveEJpbmRpbmcucHJvdG90eXBlLl9yZXNpemVCaXRtYXAgPSBmdW5jdGlvbiAobmV3U2l6ZSkge1xuICAgICAgICB2YXIgb2xkU2l6ZSA9IHRoaXMuYml0bWFwU2l6ZTtcbiAgICAgICAgaWYgKGVxdWFsU2l6ZXMob2xkU2l6ZSwgbmV3U2l6ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQud2lkdGggPSBuZXdTaXplLndpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhc0VsZW1lbnQuaGVpZ2h0ID0gbmV3U2l6ZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMuX2VtaXRCaXRtYXBTaXplQ2hhbmdlZChvbGRTaXplLCBuZXdTaXplKTtcbiAgICB9O1xuICAgIERldmljZVBpeGVsQ29udGVudEJveEJpbmRpbmcucHJvdG90eXBlLl9lbWl0Qml0bWFwU2l6ZUNoYW5nZWQgPSBmdW5jdGlvbiAob2xkU2l6ZSwgbmV3U2l6ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9iaXRtYXBTaXplQ2hhbmdlZExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIuY2FsbChfdGhpcywgb2xkU2l6ZSwgbmV3U2l6ZSk7IH0pO1xuICAgIH07XG4gICAgRGV2aWNlUGl4ZWxDb250ZW50Qm94QmluZGluZy5wcm90b3R5cGUuX3N1Z2dlc3ROZXdCaXRtYXBTaXplID0gZnVuY3Rpb24gKG5ld1NpemUpIHtcbiAgICAgICAgdmFyIG9sZFN1Z2dlc3RlZFNpemUgPSB0aGlzLl9zdWdnZXN0ZWRCaXRtYXBTaXplO1xuICAgICAgICB2YXIgZmluYWxOZXdTaXplID0gc2l6ZSh0aGlzLl90cmFuc2Zvcm1CaXRtYXBTaXplKG5ld1NpemUsIHRoaXMuX2NhbnZhc0VsZW1lbnRDbGllbnRTaXplKSk7XG4gICAgICAgIHZhciBuZXdTdWdnZXN0ZWRTaXplID0gZXF1YWxTaXplcyh0aGlzLmJpdG1hcFNpemUsIGZpbmFsTmV3U2l6ZSkgPyBudWxsIDogZmluYWxOZXdTaXplO1xuICAgICAgICBpZiAob2xkU3VnZ2VzdGVkU2l6ZSA9PT0gbnVsbCAmJiBuZXdTdWdnZXN0ZWRTaXplID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZFN1Z2dlc3RlZFNpemUgIT09IG51bGwgJiYgbmV3U3VnZ2VzdGVkU2l6ZSAhPT0gbnVsbFxuICAgICAgICAgICAgJiYgZXF1YWxTaXplcyhvbGRTdWdnZXN0ZWRTaXplLCBuZXdTdWdnZXN0ZWRTaXplKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1Z2dlc3RlZEJpdG1hcFNpemUgPSBuZXdTdWdnZXN0ZWRTaXplO1xuICAgICAgICB0aGlzLl9lbWl0U3VnZ2VzdGVkQml0bWFwU2l6ZUNoYW5nZWQob2xkU3VnZ2VzdGVkU2l6ZSwgbmV3U3VnZ2VzdGVkU2l6ZSk7XG4gICAgfTtcbiAgICBEZXZpY2VQaXhlbENvbnRlbnRCb3hCaW5kaW5nLnByb3RvdHlwZS5fZW1pdFN1Z2dlc3RlZEJpdG1hcFNpemVDaGFuZ2VkID0gZnVuY3Rpb24gKG9sZFNpemUsIG5ld1NpemUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fc3VnZ2VzdGVkQml0bWFwU2l6ZUNoYW5nZWRMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyLmNhbGwoX3RoaXMsIG9sZFNpemUsIG5ld1NpemUpOyB9KTtcbiAgICB9O1xuICAgIERldmljZVBpeGVsQ29udGVudEJveEJpbmRpbmcucHJvdG90eXBlLl9jaG9vc2VBbmRJbml0T2JzZXJ2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5fYWxsb3dSZXNpemVPYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5faW5pdERldmljZVBpeGVsUmF0aW9PYnNlcnZhYmxlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaXNEZXZpY2VQaXhlbENvbnRlbnRCb3hTdXBwb3J0ZWQoKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGlzU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNTdXBwb3J0ZWQgP1xuICAgICAgICAgICAgICAgIF90aGlzLl9pbml0UmVzaXplT2JzZXJ2ZXIoKSA6XG4gICAgICAgICAgICAgICAgX3RoaXMuX2luaXREZXZpY2VQaXhlbFJhdGlvT2JzZXJ2YWJsZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIGRldmljZVBpeGVsUmF0aW8gYXBwcm9hY2hcbiAgICBEZXZpY2VQaXhlbENvbnRlbnRCb3hCaW5kaW5nLnByb3RvdHlwZS5faW5pdERldmljZVBpeGVsUmF0aW9PYnNlcnZhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fY2FudmFzRWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaXQgbG9va3MgbGlrZSB3ZSBhcmUgYWxyZWFkeSBkZWFkXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpbiA9IGNhbnZhc0VsZW1lbnRXaW5kb3codGhpcy5fY2FudmFzRWxlbWVudCk7XG4gICAgICAgIGlmICh3aW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gd2luZG93IGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY2FudmFzJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGV2aWNlUGl4ZWxSYXRpb09ic2VydmFibGUgPSBjcmVhdGVEZXZpY2VQaXhlbFJhdGlvT2JzZXJ2YWJsZSh3aW4pO1xuICAgICAgICB0aGlzLl9kZXZpY2VQaXhlbFJhdGlvT2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2ludmFsaWRhdGVCaXRtYXBTaXplKCk7IH0pO1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlQml0bWFwU2l6ZSgpO1xuICAgIH07XG4gICAgRGV2aWNlUGl4ZWxDb250ZW50Qm94QmluZGluZy5wcm90b3R5cGUuX2ludmFsaWRhdGVCaXRtYXBTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5fY2FudmFzRWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gaXQgbG9va3MgbGlrZSB3ZSBhcmUgYWxyZWFkeSBkZWFkXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpbiA9IGNhbnZhc0VsZW1lbnRXaW5kb3codGhpcy5fY2FudmFzRWxlbWVudCk7XG4gICAgICAgIGlmICh3aW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmF0aW8gPSAoX2IgPSAoX2EgPSB0aGlzLl9kZXZpY2VQaXhlbFJhdGlvT2JzZXJ2YWJsZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB3aW4uZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdmFyIGNhbnZhc1JlY3RzID0gdGhpcy5fY2FudmFzRWxlbWVudC5nZXRDbGllbnRSZWN0cygpO1xuICAgICAgICB2YXIgbmV3U2l6ZSA9IFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVnYXRlZC1jb25kaXRpb25cbiAgICAgICAgY2FudmFzUmVjdHNbMF0gIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICBwcmVkaWN0ZWRCaXRtYXBTaXplKGNhbnZhc1JlY3RzWzBdLCByYXRpbykgOlxuICAgICAgICAgICAgc2l6ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMuX2NhbnZhc0VsZW1lbnRDbGllbnRTaXplLndpZHRoICogcmF0aW8sXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLl9jYW52YXNFbGVtZW50Q2xpZW50U2l6ZS5oZWlnaHQgKiByYXRpbyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9zdWdnZXN0TmV3Qml0bWFwU2l6ZShuZXdTaXplKTtcbiAgICB9O1xuICAgIC8vIFJlc2l6ZU9ic2VydmVyIGFwcHJvYWNoXG4gICAgRGV2aWNlUGl4ZWxDb250ZW50Qm94QmluZGluZy5wcm90b3R5cGUuX2luaXRSZXNpemVPYnNlcnZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX2NhbnZhc0VsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGl0IGxvb2tzIGxpa2Ugd2UgYXJlIGFscmVhZHkgZGVhZFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhbnZhc0VsZW1lbnRSZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihmdW5jdGlvbiAoZW50cmllcykge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllcy5maW5kKGZ1bmN0aW9uIChlbnRyeSkgeyByZXR1cm4gZW50cnkudGFyZ2V0ID09PSBfdGhpcy5fY2FudmFzRWxlbWVudDsgfSk7XG4gICAgICAgICAgICBpZiAoIWVudHJ5IHx8ICFlbnRyeS5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplIHx8ICFlbnRyeS5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplWzBdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVudHJ5U2l6ZSA9IGVudHJ5LmRldmljZVBpeGVsQ29udGVudEJveFNpemVbMF07XG4gICAgICAgICAgICB2YXIgbmV3U2l6ZSA9IHNpemUoe1xuICAgICAgICAgICAgICAgIHdpZHRoOiBlbnRyeVNpemUuaW5saW5lU2l6ZSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGVudHJ5U2l6ZS5ibG9ja1NpemUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLl9zdWdnZXN0TmV3Qml0bWFwU2l6ZShuZXdTaXplKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2NhbnZhc0VsZW1lbnRSZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMuX2NhbnZhc0VsZW1lbnQsIHsgYm94OiAnZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94JyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBEZXZpY2VQaXhlbENvbnRlbnRCb3hCaW5kaW5nO1xufSgpKTtcbmV4cG9ydCBmdW5jdGlvbiBiaW5kVG8oY2FudmFzRWxlbWVudCwgdGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldC50eXBlID09PSAnZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94Jykge1xuICAgICAgICByZXR1cm4gbmV3IERldmljZVBpeGVsQ29udGVudEJveEJpbmRpbmcoY2FudmFzRWxlbWVudCwgdGFyZ2V0LnRyYW5zZm9ybSwgdGFyZ2V0Lm9wdGlvbnMpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGJpbmRpbmcgdGFyZ2V0Jyk7XG59XG5mdW5jdGlvbiBjYW52YXNFbGVtZW50V2luZG93KGNhbnZhc0VsZW1lbnQpIHtcbiAgICAvLyBBY2NvcmRpbmcgdG8gRE9NIExldmVsIDIgQ29yZSBzcGVjaWZpY2F0aW9uLCBvd25lckRvY3VtZW50IHNob3VsZCBuZXZlciBiZSBudWxsIGZvciBIVE1MQ2FudmFzRWxlbWVudFxuICAgIC8vIHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMC9SRUMtRE9NLUxldmVsLTItQ29yZS0yMDAwMTExMy9jb3JlLmh0bWwjbm9kZS1vd25lckRvY1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgcmV0dXJuIGNhbnZhc0VsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldztcbn1cbmZ1bmN0aW9uIGlzRGV2aWNlUGl4ZWxDb250ZW50Qm94U3VwcG9ydGVkKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICB2YXIgcm8gPSBuZXcgUmVzaXplT2JzZXJ2ZXIoZnVuY3Rpb24gKGVudHJpZXMpIHtcbiAgICAgICAgICAgIHJlc29sdmUoZW50cmllcy5ldmVyeShmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuICdkZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplJyBpbiBlbnRyeTsgfSkpO1xuICAgICAgICAgICAgcm8uZGlzY29ubmVjdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcm8ub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7IGJveDogJ2RldmljZS1waXhlbC1jb250ZW50LWJveCcgfSk7XG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9KTtcbn1cbmZ1bmN0aW9uIHByZWRpY3RlZEJpdG1hcFNpemUoY2FudmFzUmVjdCwgcmF0aW8pIHtcbiAgICByZXR1cm4gc2l6ZSh7XG4gICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKGNhbnZhc1JlY3QubGVmdCAqIHJhdGlvICsgY2FudmFzUmVjdC53aWR0aCAqIHJhdGlvKSAtXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGNhbnZhc1JlY3QubGVmdCAqIHJhdGlvKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGNhbnZhc1JlY3QudG9wICogcmF0aW8gKyBjYW52YXNSZWN0LmhlaWdodCAqIHJhdGlvKSAtXG4gICAgICAgICAgICBNYXRoLnJvdW5kKGNhbnZhc1JlY3QudG9wICogcmF0aW8pLFxuICAgIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/fancy-canvas/canvas-element-bitmap-size.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/fancy-canvas/canvas-rendering-target.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/fancy-canvas/canvas-rendering-target.mjs ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CanvasRenderingTarget2D: () => (/* binding */ CanvasRenderingTarget2D),\n/* harmony export */   createCanvasRenderingTarget2D: () => (/* binding */ createCanvasRenderingTarget2D),\n/* harmony export */   tryCreateCanvasRenderingTarget2D: () => (/* binding */ tryCreateCanvasRenderingTarget2D)\n/* harmony export */ });\n/**\n * @experimental\n */\nvar CanvasRenderingTarget2D = /** @class */ (function () {\n    function CanvasRenderingTarget2D(context, mediaSize, bitmapSize) {\n        if (mediaSize.width === 0 || mediaSize.height === 0) {\n            throw new TypeError('Rendering target could only be created on a media with positive width and height');\n        }\n        this._mediaSize = mediaSize;\n        // !Number.isInteger(bitmapSize.width) || !Number.isInteger(bitmapSize.height)\n        if (bitmapSize.width === 0 || bitmapSize.height === 0) {\n            throw new TypeError('Rendering target could only be created using a bitmap with positive integer width and height');\n        }\n        this._bitmapSize = bitmapSize;\n        this._context = context;\n    }\n    CanvasRenderingTarget2D.prototype.useMediaCoordinateSpace = function (f) {\n        try {\n            this._context.save();\n            // do not use resetTransform to support old versions of Edge\n            this._context.setTransform(1, 0, 0, 1, 0, 0);\n            this._context.scale(this._horizontalPixelRatio, this._verticalPixelRatio);\n            return f({\n                context: this._context,\n                mediaSize: this._mediaSize,\n            });\n        }\n        finally {\n            this._context.restore();\n        }\n    };\n    CanvasRenderingTarget2D.prototype.useBitmapCoordinateSpace = function (f) {\n        try {\n            this._context.save();\n            // do not use resetTransform to support old versions of Edge\n            this._context.setTransform(1, 0, 0, 1, 0, 0);\n            return f({\n                context: this._context,\n                mediaSize: this._mediaSize,\n                bitmapSize: this._bitmapSize,\n                horizontalPixelRatio: this._horizontalPixelRatio,\n                verticalPixelRatio: this._verticalPixelRatio,\n            });\n        }\n        finally {\n            this._context.restore();\n        }\n    };\n    Object.defineProperty(CanvasRenderingTarget2D.prototype, \"_horizontalPixelRatio\", {\n        get: function () {\n            return this._bitmapSize.width / this._mediaSize.width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CanvasRenderingTarget2D.prototype, \"_verticalPixelRatio\", {\n        get: function () {\n            return this._bitmapSize.height / this._mediaSize.height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CanvasRenderingTarget2D;\n}());\n\n/**\n * @experimental\n */\nfunction createCanvasRenderingTarget2D(binding, contextOptions) {\n    var mediaSize = binding.canvasElementClientSize;\n    var bitmapSize = binding.bitmapSize;\n    var context = binding.canvasElement.getContext('2d', contextOptions);\n    if (context === null) {\n        throw new Error('Could not get 2d drawing context from bound canvas element. Has the canvas already been set to a different context mode?');\n    }\n    return new CanvasRenderingTarget2D(context, mediaSize, bitmapSize);\n}\n/**\n * @experimental\n */\nfunction tryCreateCanvasRenderingTarget2D(binding, contextOptions) {\n    var mediaSize = binding.canvasElementClientSize;\n    if (mediaSize.width === 0 || mediaSize.height === 0) {\n        return null;\n    }\n    var bitmapSize = binding.bitmapSize;\n    if (bitmapSize.width === 0 || bitmapSize.height === 0) {\n        return null;\n    }\n    var context = binding.canvasElement.getContext('2d', contextOptions);\n    if (context === null) {\n        return null;\n    }\n    return new CanvasRenderingTarget2D(context, mediaSize, bitmapSize);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZmFuY3ktY2FudmFzL2NhbnZhcy1yZW5kZXJpbmctdGFyZ2V0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ2tDO0FBQ25DO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BhbnphL0RvY3VtZW50cy9QZXJzb25hbFByb2plY3RzL3ByZWRpay9ub2RlX21vZHVsZXMvZmFuY3ktY2FudmFzL2NhbnZhcy1yZW5kZXJpbmctdGFyZ2V0Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBleHBlcmltZW50YWxcbiAqL1xudmFyIENhbnZhc1JlbmRlcmluZ1RhcmdldDJEID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhbnZhc1JlbmRlcmluZ1RhcmdldDJEKGNvbnRleHQsIG1lZGlhU2l6ZSwgYml0bWFwU2l6ZSkge1xuICAgICAgICBpZiAobWVkaWFTaXplLndpZHRoID09PSAwIHx8IG1lZGlhU2l6ZS5oZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlbmRlcmluZyB0YXJnZXQgY291bGQgb25seSBiZSBjcmVhdGVkIG9uIGEgbWVkaWEgd2l0aCBwb3NpdGl2ZSB3aWR0aCBhbmQgaGVpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWVkaWFTaXplID0gbWVkaWFTaXplO1xuICAgICAgICAvLyAhTnVtYmVyLmlzSW50ZWdlcihiaXRtYXBTaXplLndpZHRoKSB8fCAhTnVtYmVyLmlzSW50ZWdlcihiaXRtYXBTaXplLmhlaWdodClcbiAgICAgICAgaWYgKGJpdG1hcFNpemUud2lkdGggPT09IDAgfHwgYml0bWFwU2l6ZS5oZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlbmRlcmluZyB0YXJnZXQgY291bGQgb25seSBiZSBjcmVhdGVkIHVzaW5nIGEgYml0bWFwIHdpdGggcG9zaXRpdmUgaW50ZWdlciB3aWR0aCBhbmQgaGVpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYml0bWFwU2l6ZSA9IGJpdG1hcFNpemU7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIH1cbiAgICBDYW52YXNSZW5kZXJpbmdUYXJnZXQyRC5wcm90b3R5cGUudXNlTWVkaWFDb29yZGluYXRlU3BhY2UgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICAvLyBkbyBub3QgdXNlIHJlc2V0VHJhbnNmb3JtIHRvIHN1cHBvcnQgb2xkIHZlcnNpb25zIG9mIEVkZ2VcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dC5zY2FsZSh0aGlzLl9ob3Jpem9udGFsUGl4ZWxSYXRpbywgdGhpcy5fdmVydGljYWxQaXhlbFJhdGlvKTtcbiAgICAgICAgICAgIHJldHVybiBmKHtcbiAgICAgICAgICAgICAgICBjb250ZXh0OiB0aGlzLl9jb250ZXh0LFxuICAgICAgICAgICAgICAgIG1lZGlhU2l6ZTogdGhpcy5fbWVkaWFTaXplLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2FudmFzUmVuZGVyaW5nVGFyZ2V0MkQucHJvdG90eXBlLnVzZUJpdG1hcENvb3JkaW5hdGVTcGFjZSA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIC8vIGRvIG5vdCB1c2UgcmVzZXRUcmFuc2Zvcm0gdG8gc3VwcG9ydCBvbGQgdmVyc2lvbnMgb2YgRWRnZVxuICAgICAgICAgICAgdGhpcy5fY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgICAgICByZXR1cm4gZih7XG4gICAgICAgICAgICAgICAgY29udGV4dDogdGhpcy5fY29udGV4dCxcbiAgICAgICAgICAgICAgICBtZWRpYVNpemU6IHRoaXMuX21lZGlhU2l6ZSxcbiAgICAgICAgICAgICAgICBiaXRtYXBTaXplOiB0aGlzLl9iaXRtYXBTaXplLFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxQaXhlbFJhdGlvOiB0aGlzLl9ob3Jpem9udGFsUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbFBpeGVsUmF0aW86IHRoaXMuX3ZlcnRpY2FsUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW52YXNSZW5kZXJpbmdUYXJnZXQyRC5wcm90b3R5cGUsIFwiX2hvcml6b250YWxQaXhlbFJhdGlvXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYml0bWFwU2l6ZS53aWR0aCAvIHRoaXMuX21lZGlhU2l6ZS53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW52YXNSZW5kZXJpbmdUYXJnZXQyRC5wcm90b3R5cGUsIFwiX3ZlcnRpY2FsUGl4ZWxSYXRpb1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JpdG1hcFNpemUuaGVpZ2h0IC8gdGhpcy5fbWVkaWFTaXplLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDYW52YXNSZW5kZXJpbmdUYXJnZXQyRDtcbn0oKSk7XG5leHBvcnQgeyBDYW52YXNSZW5kZXJpbmdUYXJnZXQyRCB9O1xuLyoqXG4gKiBAZXhwZXJpbWVudGFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDYW52YXNSZW5kZXJpbmdUYXJnZXQyRChiaW5kaW5nLCBjb250ZXh0T3B0aW9ucykge1xuICAgIHZhciBtZWRpYVNpemUgPSBiaW5kaW5nLmNhbnZhc0VsZW1lbnRDbGllbnRTaXplO1xuICAgIHZhciBiaXRtYXBTaXplID0gYmluZGluZy5iaXRtYXBTaXplO1xuICAgIHZhciBjb250ZXh0ID0gYmluZGluZy5jYW52YXNFbGVtZW50LmdldENvbnRleHQoJzJkJywgY29udGV4dE9wdGlvbnMpO1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGdldCAyZCBkcmF3aW5nIGNvbnRleHQgZnJvbSBib3VuZCBjYW52YXMgZWxlbWVudC4gSGFzIHRoZSBjYW52YXMgYWxyZWFkeSBiZWVuIHNldCB0byBhIGRpZmZlcmVudCBjb250ZXh0IG1vZGU/Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ2FudmFzUmVuZGVyaW5nVGFyZ2V0MkQoY29udGV4dCwgbWVkaWFTaXplLCBiaXRtYXBTaXplKTtcbn1cbi8qKlxuICogQGV4cGVyaW1lbnRhbFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJ5Q3JlYXRlQ2FudmFzUmVuZGVyaW5nVGFyZ2V0MkQoYmluZGluZywgY29udGV4dE9wdGlvbnMpIHtcbiAgICB2YXIgbWVkaWFTaXplID0gYmluZGluZy5jYW52YXNFbGVtZW50Q2xpZW50U2l6ZTtcbiAgICBpZiAobWVkaWFTaXplLndpZHRoID09PSAwIHx8IG1lZGlhU2l6ZS5oZWlnaHQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBiaXRtYXBTaXplID0gYmluZGluZy5iaXRtYXBTaXplO1xuICAgIGlmIChiaXRtYXBTaXplLndpZHRoID09PSAwIHx8IGJpdG1hcFNpemUuaGVpZ2h0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgY29udGV4dCA9IGJpbmRpbmcuY2FudmFzRWxlbWVudC5nZXRDb250ZXh0KCcyZCcsIGNvbnRleHRPcHRpb25zKTtcbiAgICBpZiAoY29udGV4dCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDYW52YXNSZW5kZXJpbmdUYXJnZXQyRChjb250ZXh0LCBtZWRpYVNpemUsIGJpdG1hcFNpemUpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/fancy-canvas/canvas-rendering-target.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/fancy-canvas/device-pixel-ratio.mjs":
/*!**********************************************************!*\
  !*** ./node_modules/fancy-canvas/device-pixel-ratio.mjs ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createObservable: () => (/* binding */ createObservable)\n/* harmony export */ });\nvar Observable = /** @class */ (function () {\n    function Observable(win) {\n        var _this = this;\n        this._resolutionListener = function () { return _this._onResolutionChanged(); };\n        this._resolutionMediaQueryList = null;\n        this._observers = [];\n        this._window = win;\n        this._installResolutionListener();\n    }\n    Observable.prototype.dispose = function () {\n        this._uninstallResolutionListener();\n        this._window = null;\n    };\n    Object.defineProperty(Observable.prototype, \"value\", {\n        get: function () {\n            return this._window.devicePixelRatio;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Observable.prototype.subscribe = function (next) {\n        var _this = this;\n        var observer = { next: next };\n        this._observers.push(observer);\n        return {\n            unsubscribe: function () {\n                _this._observers = _this._observers.filter(function (o) { return o !== observer; });\n            },\n        };\n    };\n    Observable.prototype._installResolutionListener = function () {\n        if (this._resolutionMediaQueryList !== null) {\n            throw new Error('Resolution listener is already installed');\n        }\n        var dppx = this._window.devicePixelRatio;\n        this._resolutionMediaQueryList = this._window.matchMedia(\"all and (resolution: \".concat(dppx, \"dppx)\"));\n        // IE and some versions of Edge do not support addEventListener/removeEventListener, and we are going to use the deprecated addListener/removeListener\n        this._resolutionMediaQueryList.addListener(this._resolutionListener);\n    };\n    Observable.prototype._uninstallResolutionListener = function () {\n        if (this._resolutionMediaQueryList !== null) {\n            // IE and some versions of Edge do not support addEventListener/removeEventListener, and we are going to use the deprecated addListener/removeListener\n            this._resolutionMediaQueryList.removeListener(this._resolutionListener);\n            this._resolutionMediaQueryList = null;\n        }\n    };\n    Observable.prototype._reinstallResolutionListener = function () {\n        this._uninstallResolutionListener();\n        this._installResolutionListener();\n    };\n    Observable.prototype._onResolutionChanged = function () {\n        var _this = this;\n        this._observers.forEach(function (observer) { return observer.next(_this._window.devicePixelRatio); });\n        this._reinstallResolutionListener();\n    };\n    return Observable;\n}());\nfunction createObservable(win) {\n    return new Observable(win);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZmFuY3ktY2FudmFzL2RldmljZS1waXhlbC1yYXRpby5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRSx3QkFBd0I7QUFDbEcsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCx1REFBdUQ7QUFDN0c7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNNO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BhbnphL0RvY3VtZW50cy9QZXJzb25hbFByb2plY3RzL3ByZWRpay9ub2RlX21vZHVsZXMvZmFuY3ktY2FudmFzL2RldmljZS1waXhlbC1yYXRpby5tanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIE9ic2VydmFibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZSh3aW4pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVzb2x1dGlvbkxpc3RlbmVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX29uUmVzb2x1dGlvbkNoYW5nZWQoKTsgfTtcbiAgICAgICAgdGhpcy5fcmVzb2x1dGlvbk1lZGlhUXVlcnlMaXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJzID0gW107XG4gICAgICAgIHRoaXMuX3dpbmRvdyA9IHdpbjtcbiAgICAgICAgdGhpcy5faW5zdGFsbFJlc29sdXRpb25MaXN0ZW5lcigpO1xuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl91bmluc3RhbGxSZXNvbHV0aW9uTGlzdGVuZXIoKTtcbiAgICAgICAgdGhpcy5fd2luZG93ID0gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYnNlcnZhYmxlLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9ic2VydmVyID0geyBuZXh0OiBuZXh0IH07XG4gICAgICAgIHRoaXMuX29ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29ic2VydmVycyA9IF90aGlzLl9vYnNlcnZlcnMuZmlsdGVyKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICE9PSBvYnNlcnZlcjsgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX2luc3RhbGxSZXNvbHV0aW9uTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXNvbHV0aW9uTWVkaWFRdWVyeUxpc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb2x1dGlvbiBsaXN0ZW5lciBpcyBhbHJlYWR5IGluc3RhbGxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkcHB4ID0gdGhpcy5fd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb25NZWRpYVF1ZXJ5TGlzdCA9IHRoaXMuX3dpbmRvdy5tYXRjaE1lZGlhKFwiYWxsIGFuZCAocmVzb2x1dGlvbjogXCIuY29uY2F0KGRwcHgsIFwiZHBweClcIikpO1xuICAgICAgICAvLyBJRSBhbmQgc29tZSB2ZXJzaW9ucyBvZiBFZGdlIGRvIG5vdCBzdXBwb3J0IGFkZEV2ZW50TGlzdGVuZXIvcmVtb3ZlRXZlbnRMaXN0ZW5lciwgYW5kIHdlIGFyZSBnb2luZyB0byB1c2UgdGhlIGRlcHJlY2F0ZWQgYWRkTGlzdGVuZXIvcmVtb3ZlTGlzdGVuZXJcbiAgICAgICAgdGhpcy5fcmVzb2x1dGlvbk1lZGlhUXVlcnlMaXN0LmFkZExpc3RlbmVyKHRoaXMuX3Jlc29sdXRpb25MaXN0ZW5lcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdW5pbnN0YWxsUmVzb2x1dGlvbkxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVzb2x1dGlvbk1lZGlhUXVlcnlMaXN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBJRSBhbmQgc29tZSB2ZXJzaW9ucyBvZiBFZGdlIGRvIG5vdCBzdXBwb3J0IGFkZEV2ZW50TGlzdGVuZXIvcmVtb3ZlRXZlbnRMaXN0ZW5lciwgYW5kIHdlIGFyZSBnb2luZyB0byB1c2UgdGhlIGRlcHJlY2F0ZWQgYWRkTGlzdGVuZXIvcmVtb3ZlTGlzdGVuZXJcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdXRpb25NZWRpYVF1ZXJ5TGlzdC5yZW1vdmVMaXN0ZW5lcih0aGlzLl9yZXNvbHV0aW9uTGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbk1lZGlhUXVlcnlMaXN0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3JlaW5zdGFsbFJlc29sdXRpb25MaXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdW5pbnN0YWxsUmVzb2x1dGlvbkxpc3RlbmVyKCk7XG4gICAgICAgIHRoaXMuX2luc3RhbGxSZXNvbHV0aW9uTGlzdGVuZXIoKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl9vblJlc29sdXRpb25DaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAob2JzZXJ2ZXIpIHsgcmV0dXJuIG9ic2VydmVyLm5leHQoX3RoaXMuX3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTsgfSk7XG4gICAgICAgIHRoaXMuX3JlaW5zdGFsbFJlc29sdXRpb25MaXN0ZW5lcigpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9ic2VydmFibGUod2luKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHdpbik7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/fancy-canvas/device-pixel-ratio.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/fancy-canvas/index.mjs":
/*!*********************************************!*\
  !*** ./node_modules/fancy-canvas/index.mjs ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CanvasRenderingTarget2D: () => (/* reexport safe */ _canvas_rendering_target_mjs__WEBPACK_IMPORTED_MODULE_2__.CanvasRenderingTarget2D),\n/* harmony export */   bindCanvasElementBitmapSizeTo: () => (/* reexport safe */ _canvas_element_bitmap_size_mjs__WEBPACK_IMPORTED_MODULE_1__.bindTo),\n/* harmony export */   createCanvasRenderingTarget2D: () => (/* reexport safe */ _canvas_rendering_target_mjs__WEBPACK_IMPORTED_MODULE_2__.createCanvasRenderingTarget2D),\n/* harmony export */   equalSizes: () => (/* reexport safe */ _size_mjs__WEBPACK_IMPORTED_MODULE_0__.equalSizes),\n/* harmony export */   size: () => (/* reexport safe */ _size_mjs__WEBPACK_IMPORTED_MODULE_0__.size),\n/* harmony export */   tryCreateCanvasRenderingTarget2D: () => (/* reexport safe */ _canvas_rendering_target_mjs__WEBPACK_IMPORTED_MODULE_2__.tryCreateCanvasRenderingTarget2D)\n/* harmony export */ });\n/* harmony import */ var _size_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./size.mjs */ \"(ssr)/./node_modules/fancy-canvas/size.mjs\");\n/* harmony import */ var _canvas_element_bitmap_size_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./canvas-element-bitmap-size.mjs */ \"(ssr)/./node_modules/fancy-canvas/canvas-element-bitmap-size.mjs\");\n/* harmony import */ var _canvas_rendering_target_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./canvas-rendering-target.mjs */ \"(ssr)/./node_modules/fancy-canvas/canvas-rendering-target.mjs\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZmFuY3ktY2FudmFzL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBOEM7QUFDOEM7QUFDOEMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYW56YS9Eb2N1bWVudHMvUGVyc29uYWxQcm9qZWN0cy9wcmVkaWsvbm9kZV9tb2R1bGVzL2ZhbmN5LWNhbnZhcy9pbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgc2l6ZSwgZXF1YWxTaXplcyB9IGZyb20gXCIuL3NpemUubWpzXCI7XG5leHBvcnQgeyBiaW5kVG8gYXMgYmluZENhbnZhc0VsZW1lbnRCaXRtYXBTaXplVG8sIH0gZnJvbSBcIi4vY2FudmFzLWVsZW1lbnQtYml0bWFwLXNpemUubWpzXCI7XG5leHBvcnQgeyBDYW52YXNSZW5kZXJpbmdUYXJnZXQyRCwgY3JlYXRlQ2FudmFzUmVuZGVyaW5nVGFyZ2V0MkQsIHRyeUNyZWF0ZUNhbnZhc1JlbmRlcmluZ1RhcmdldDJELCB9IGZyb20gXCIuL2NhbnZhcy1yZW5kZXJpbmctdGFyZ2V0Lm1qc1wiO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/fancy-canvas/index.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/fancy-canvas/size.mjs":
/*!********************************************!*\
  !*** ./node_modules/fancy-canvas/size.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   equalSizes: () => (/* binding */ equalSizes),\n/* harmony export */   size: () => (/* binding */ size)\n/* harmony export */ });\nfunction size(_a) {\n    var width = _a.width, height = _a.height;\n    if (width < 0) {\n        throw new Error('Negative width is not allowed for Size');\n    }\n    if (height < 0) {\n        throw new Error('Negative height is not allowed for Size');\n    }\n    return {\n        width: width,\n        height: height,\n    };\n}\nfunction equalSizes(first, second) {\n    return (first.width === second.width) &&\n        (first.height === second.height);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZmFuY3ktY2FudmFzL3NpemUubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3BhbnphL0RvY3VtZW50cy9QZXJzb25hbFByb2plY3RzL3ByZWRpay9ub2RlX21vZHVsZXMvZmFuY3ktY2FudmFzL3NpemUubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBzaXplKF9hKSB7XG4gICAgdmFyIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmVnYXRpdmUgd2lkdGggaXMgbm90IGFsbG93ZWQgZm9yIFNpemUnKTtcbiAgICB9XG4gICAgaWYgKGhlaWdodCA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZWdhdGl2ZSBoZWlnaHQgaXMgbm90IGFsbG93ZWQgZm9yIFNpemUnKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsU2l6ZXMoZmlyc3QsIHNlY29uZCkge1xuICAgIHJldHVybiAoZmlyc3Qud2lkdGggPT09IHNlY29uZC53aWR0aCkgJiZcbiAgICAgICAgKGZpcnN0LmhlaWdodCA9PT0gc2Vjb25kLmhlaWdodCk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/fancy-canvas/size.mjs\n");

/***/ })

};
;